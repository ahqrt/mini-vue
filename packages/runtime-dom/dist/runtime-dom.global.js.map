{
  "version": 3,
  "sources": ["../src/nodeOps.ts", "../src/modules/attr.ts", "../src/modules/class.ts", "../src/modules/event.ts", "../src/modules/style.ts", "../src/patchProp.ts", "../src/index.ts"],
  "sourcesContent": ["export const nodeOps = {\n  /**\n   * \n   * @param child \u63D2\u5165\u7684\u5143\u7D20\n   * @param parent \u63D2\u5165\u5230\u8C01\u91CC\u9762\n   * @param anchor \u53C2\u8003\u7684\u4F4D\u7F6E\uFF0C\u63D2\u5165\u5230\u8C01\u524D\u9762\u53BB\n   */\n  insert(child, parent, anchor = null) {\n    if (anchor) {\n      parent.insertBefore(child, anchor)\n    } else {\n      parent.appendChild(child)\n    }\n  },\n\n  /**\n   * \u5220\u9664\u8282\u70B9\n   * @param child \n   */\n  remove(child) {\n    const parent = child.parentNode;\n    if (parent) {\n      parent.removeChild(child)\n    }\n  },\n\n  /**\n   * \u5C06\u8282\u70B9\u5185\u5BB9\u8BBE\u7F6E\u4E3A\u6587\u672C\n   * @param el \n   * @param text \n   */\n  setElementText(el, text) {\n    el.textContent = text\n  },\n\n  /**\n   * \u8BBE\u7F6E\u6587\u672C\u8282\u70B9\u5185\u5BB9\n   * @param node \n   * @param text \n   */\n  setText(node, text) {\n    node.nodeValue = text\n  },\n\n  /**\n   * \u67E5\u8BE2\n   * @param selector \n   * @returns \n   */\n  querySelector(selector) {\n    return document.querySelector(selector)\n  },\n\n  /**\n   * \u83B7\u53D6\u7236\u4EB2\u8282\u70B9\n   * @param selector \n   * @returns \n   */\n  parentNode(selector) {\n    return selector.parentNode\n  },\n\n  nextSibling(selector) {\n    return selector.nextSibling\n  },\n\n  createElement(tag) {\n    return document.createElement(tag)\n  },\n\n  createText(text) {\n    return document.createTextNode(text)\n  },\n\n}", "export function patchAttr(el, key, nextValue) {\n  if (nextValue) {\n    el.setAttribute(key, nextValue)\n  } else {\n    el.removeAttribute(key)\n  }\n}", "/**\n * \n * @param el \n * @param next \n */\nexport function patchClass(el: HTMLElement, next) {\n  if (next === null) {\n    el.removeAttribute('class')\n  }\n  else {\n    el.className = next\n  }\n}", "function createInvoker(handler) {\n  const invoker = (e) => invoker.value(e);\n  invoker.value = handler;\n  return invoker\n}\n\nexport function patchEvent(el, eventName, next) {\n\n  /**\n   * \u53EF\u4EE5\u5148\u79FB\u9664\u4E8B\u4EF6\uFF0C\u518D\u91CD\u65B0\u7ED1\u5B9A\uFF0C\u4F46\u662F\u8FD9\u6837\u6BD4\u8F83\u6D6A\u8D39\u6027\u80FD\n   * \u6240\u4EE5\u5728vue\u91CC\u9762\u662F\u5982\u4E0B\u5904\u7406\u7684\n   */\n  let invokers = el._vei || (el._vei = {})\n  let exits = invokers[eventName]\n\n  if (exits && next) {\n    exits.value = next\n  } else {\n    let event = eventName.slice(2).toLowCase()\n    if (next) {\n      const invoker = invokers[eventName] = createInvoker(next)\n      el.addEventListener(event, invoker)\n    } else if (exits) { // \u5982\u679C\u6709\u8001\u503C\uFF0C\u9700\u8981\u5C06\u4E4B\u524D\u7684\u503C\u79FB\u9664\u6389\n      el.removeEventListener(event, exits)\n      invokers[eventName] = undefined\n    }\n  }\n\n}", "export function patchStyle(el, pre, next) {\n  if (pre === next) {\n    return;\n  }\n  for (const key in pre) {\n    if (!(key in next)) {\n      el.style[key] = '';\n    }\n  }\n  for (const key in next) {\n    el.style[key] = next[key];\n  }\n\n\n}", "import { patchAttr } from \"./modules/attr\"\nimport { patchClass } from \"./modules/class\"\nimport { patchEvent } from \"./modules/event\"\nimport { patchStyle } from \"./modules/style\"\n\n/**\n * \u5BF9\u4E8Edom\u5C5E\u6027\u7684\u66F4\u65B0\n * @param el \u5143\u7D20\n * @param key \u5C5E\u6027\n * @param preValue \u524D\u4E00\u4E2A\u503C \n * @param nextValue \u540E\u4E00\u4E2A\u503C\n */\nexport function patchProp(el, key, preValue, nextValue) {\n  // \u7C7B\u540D\u5904\u7406 el.className\n  if (key === 'class') {\n    patchClass(el, nextValue)\n  }\n  // \u6837\u5F0F\u5904\u7406 el.style\n  else if (key === 'style') {\n    patchStyle(el, preValue, nextValue)\n  }\n  // \u4E8B\u4EF6\u5904\u7406 addEventListener\n  else if (/^on[^a-z]/.test(key)) {\n    patchEvent(el, key, nextValue)\n  }\n  // \u666E\u901A\u5C5E\u6027 el.setAttribute\n  else {\n    patchAttr(el, key, nextValue)\n  }\n}", "import { nodeOps } from './nodeOps'\nimport { patchProp } from './patchProp'\n\nconst renderOptions = Object.assign(nodeOps, { patchProp })\n\nconsole.log('renderOptions', renderOptions);\n"],
  "mappings": ";;AAAO,MAAM,UAAU;AAAA,IAOrB,OAAO,OAAO,QAAQ,SAAS,MAAM;AACnC,UAAI,QAAQ;AACV,eAAO,aAAa,OAAO,MAAM;AAAA,MACnC,OAAO;AACL,eAAO,YAAY,KAAK;AAAA,MAC1B;AAAA,IACF;AAAA,IAMA,OAAO,OAAO;AACZ,YAAM,SAAS,MAAM;AACrB,UAAI,QAAQ;AACV,eAAO,YAAY,KAAK;AAAA,MAC1B;AAAA,IACF;AAAA,IAOA,eAAe,IAAI,MAAM;AACvB,SAAG,cAAc;AAAA,IACnB;AAAA,IAOA,QAAQ,MAAM,MAAM;AAClB,WAAK,YAAY;AAAA,IACnB;AAAA,IAOA,cAAc,UAAU;AACtB,aAAO,SAAS,cAAc,QAAQ;AAAA,IACxC;AAAA,IAOA,WAAW,UAAU;AACnB,aAAO,SAAS;AAAA,IAClB;AAAA,IAEA,YAAY,UAAU;AACpB,aAAO,SAAS;AAAA,IAClB;AAAA,IAEA,cAAc,KAAK;AACjB,aAAO,SAAS,cAAc,GAAG;AAAA,IACnC;AAAA,IAEA,WAAW,MAAM;AACf,aAAO,SAAS,eAAe,IAAI;AAAA,IACrC;AAAA,EAEF;;;AC1EO,qBAAmB,IAAI,KAAK,WAAW;AAC5C,QAAI,WAAW;AACb,SAAG,aAAa,KAAK,SAAS;AAAA,IAChC,OAAO;AACL,SAAG,gBAAgB,GAAG;AAAA,IACxB;AAAA,EACF;;;ACDO,sBAAoB,IAAiB,MAAM;AAChD,QAAI,SAAS,MAAM;AACjB,SAAG,gBAAgB,OAAO;AAAA,IAC5B,OACK;AACH,SAAG,YAAY;AAAA,IACjB;AAAA,EACF;;;ACZA,yBAAuB,SAAS;AAC9B,UAAM,UAAU,CAAC,MAAM,QAAQ,MAAM,CAAC;AACtC,YAAQ,QAAQ;AAChB,WAAO;AAAA,EACT;AAEO,sBAAoB,IAAI,WAAW,MAAM;AAM9C,QAAI,WAAW,GAAG,QAAS,IAAG,OAAO,CAAC;AACtC,QAAI,QAAQ,SAAS;AAErB,QAAI,SAAS,MAAM;AACjB,YAAM,QAAQ;AAAA,IAChB,OAAO;AACL,UAAI,QAAQ,UAAU,MAAM,CAAC,EAAE,UAAU;AACzC,UAAI,MAAM;AACR,cAAM,UAAU,SAAS,aAAa,cAAc,IAAI;AACxD,WAAG,iBAAiB,OAAO,OAAO;AAAA,MACpC,WAAW,OAAO;AAChB,WAAG,oBAAoB,OAAO,KAAK;AACnC,iBAAS,aAAa;AAAA,MACxB;AAAA,IACF;AAAA,EAEF;;;AC5BO,sBAAoB,IAAI,KAAK,MAAM;AACxC,QAAI,QAAQ,MAAM;AAChB;AAAA,IACF;AACA,eAAW,OAAO,KAAK;AACrB,UAAI,CAAE,QAAO,OAAO;AAClB,WAAG,MAAM,OAAO;AAAA,MAClB;AAAA,IACF;AACA,eAAW,OAAO,MAAM;AACtB,SAAG,MAAM,OAAO,KAAK;AAAA,IACvB;AAAA,EAGF;;;ACFO,qBAAmB,IAAI,KAAK,UAAU,WAAW;AAEtD,QAAI,QAAQ,SAAS;AACnB,iBAAW,IAAI,SAAS;AAAA,IAC1B,WAES,QAAQ,SAAS;AACxB,iBAAW,IAAI,UAAU,SAAS;AAAA,IACpC,WAES,YAAY,KAAK,GAAG,GAAG;AAC9B,iBAAW,IAAI,KAAK,SAAS;AAAA,IAC/B,OAEK;AACH,gBAAU,IAAI,KAAK,SAAS;AAAA,IAC9B;AAAA,EACF;;;AC1BA,MAAM,gBAAgB,OAAO,OAAO,SAAS,EAAE,UAAU,CAAC;AAE1D,UAAQ,IAAI,iBAAiB,aAAa;",
  "names": []
}
